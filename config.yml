# Application configuration file with environment variable placeholders
# This file is in git (only placeholders, no secrets)
# 
# Local Development:
#   - Create .env file with actual values (DB_USERNAME=..., DB_PASSWORD=..., etc.)
#   - Spring Boot will load .env and resolve placeholders
#
# Production (ECS):
#   - This file is copied to Docker image as config.yml
#   - Set environment variables in ECS task definition (same names: DB_USERNAME, DB_PASSWORD, etc.)
#   - Spring Boot will read environment variables and resolve placeholders

spring:
  datasource:
    url: ${DB_URL}
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
  
  # Email configuration (Spring Mail)
  mail:
    host: ${SMTP_HOST:smtp.gmail.com}
    port: ${SMTP_PORT:587}
    username: ${SMTP_USERNAME}
    password: ${SMTP_PASSWORD}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
            required: true
    from-email: ${SMTP_FROM_EMAIL}

config:
  jwt: ${APP_SECRETS_JWT}
  admin-username-hash: ${ADMIN_USERNAME_HASH:}
  admin-password-hash: ${ADMIN_PASSWORD_HASH:}
  
  # AWS S3 configuration (all required - app fails to start if missing)
  s3:
    bucket-name: ${S3_BUCKET_NAME}
    region: ${S3_REGION}
    public-domain: ${S3_PUBLIC_DOMAIN}  # Required: CloudFront/public URL base (e.g. https://xxx.cloudfront.net/)
