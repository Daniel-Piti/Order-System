# Application configuration file containing both secrets and other sensitive config
# This file is imported by application.yml and should be gitignored
# Copy this to config.yml and fill in your actual values

spring:
  datasource:
    # Database URL - change this per environment
    # Dev: jdbc:mysql://localhost:3306/orders_system
    # Prod: jdbc:mysql://your-prod-server:3306/orders_system
    url: ${DB_URL:jdbc:mysql://localhost:3306/orders_system}
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
  
  # Email configuration (Spring Mail)
  mail:
    host: ${SMTP_HOST:smtp.gmail.com}
    port: ${SMTP_PORT:587}
    username: ${SMTP_USERNAME}
    password: ${SMTP_PASSWORD}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
            required: true
    # From email address (sender)
    from-email: ${SMTP_FROM_EMAIL}

config:
  # HS256 secret, min 32 chars. Set via env var APP_SECRETS_JWT in CI/hosts
  jwt: ${APP_SECRETS_JWT}
  # BCrypt hashes only (do NOT store plaintext). Optional: leave blank to disable admin login.
  admin-username-hash: ${ADMIN_USERNAME_HASH:}
  admin-password-hash: ${ADMIN_PASSWORD_HASH:}
  
  # AWS S3 configuration
  s3:
    bucket-name: ${S3_BUCKET_NAME:ordersystem-uploads}
    region: ${S3_REGION:il-central-1}
    public-domain: ${S3_PUBLIC_DOMAIN:} # CloudFront's domain for public URLs (e.g., https://d1234abcd.cloudfront.net/)
  
  # File upload configuration
  max-upload-file-size-mb: ${MAX_FILE_SIZE_MB:5}